+++
title = "Filesystem"
date =  2022-09-26T18:01:00+05:30
weight = 1
+++

## Commands
`pwd`

`ls -la`

`cd`

`pushd` (push a dir on top of stack and goto it)	`popd` (go back to dir on top of stack)

```txt
in dir A

$ pushd B/C
$ popd

in dir A again


Shortcut: cd -
```

`touch` (update time modified/create new)

`file` (show if an object is dir or what kind of file it is)

```txt
$ file a b
a: directory
b: ASCII text
```

`mkdir -p` (_p_ flag is used to make nested dirs like `mkdir /foobar/test/mydir`)

`rmdir` (removes only _empty_ dirs; shouldn't have any subdirectories too)

`rm` (remove)
```txt
$ rm fileA fileB ...

-r	to remove dir
-f	force remove even if write protected
-i	prompt before removal of each dir
-d  remove if empty dir only
```

`cp` (copy) (overwrites by default)

```txt
$ cp fileA fileB ...

-r	to copy dir
-i	prompt before overwrite
```

`mv` (move, rename)  (overwrites by default) (no _r_ flag needed for dir)

```txt
$ mv fileA fileB /path_to_target_dir/...
$ mv old_name new_name

-i	prompt before overwrite
```

`tree` (print dir tree)

`find` (recursively search a file or dir)

```txt
$ find /home -name puppies.jpg
$ find /home -type d -name MyFolder
$ find /home -type d -empty
$ find . -name cert
$ find / -name hey -type d
$ find dir1 dir2 -name "abc*f"
$ find . -perm 700
$ find . -size +3M (files greater than 3Mb)
$ find . -size -200c (files smaller than 200 bytes)
$ find . -atime -3 (accessed within last 3 days)
```

## Tips

Filenames and directory names are _case-insensitive_ in Linux.

A file and a directory having _exact_ same names cannot _co-exist_ in the same directory.

`cp` and `mv` commands can't copy or move directories inside themselves.
```txt
$ cp -r a a/b
cp: cannot copy a directory, 'a', into itself, 'a/b/a'

$ mv a a/b
mv: cannot move 'a' to a subdirectory of itself, 'a/b/a'
```

Use `cat > fileC.txt` to create a file if `fileC` is already present in the current dir since `touch` will just update it's access time.

`ls | grep <string>` can be used instead of the `find` command if the search is by file name only.


## Wildcards
Use wildcards in commands: `ls *.txt`

```txt
*		match multiple chars 
?		match single char
[^]		match chars in/not in the sqaure brackets
```